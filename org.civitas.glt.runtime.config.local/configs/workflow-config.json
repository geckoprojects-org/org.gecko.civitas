{
  ":configurator:resource-version": 1,
  ":configurator:symbolic-name": "org.civitas.workflow.config",
  ":configurator:version": "1.0.0",

  "MqttReceiver~building": {
  		"mqtt.topic" : "buildings",
  		"payload.eclassuri": "https://civitas.org/glt/1.0.0#//Building",
  		"print.payload": false,
  		"forward.topic": [
			"gltusecase/SensorReading_target"
			]
  	},
  "EMFAttacherHandler~Building": 
  	{
  	 	"event.topic" : "gltusecase/Building_source",
	    "repository.target": "(repo_id=inmem)",
		"incomming.eclassuri" : "https://civitas.org/glt/1.0.0#//Building",
		"target.eclassuri": "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading",
		"foreignKeyFeature.uri": "https://civitas.org/glt/1.0.0#//Building_id",
		"target.reference.uri": "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading_building",
		"forward.topic": [
			"gltusecase/BuildingSensorReading"
			]
	},
   "EMFAttacherHandler~SensorReading": 
  	{
  	 	"event.topic" : "gltusecase/SensorReading_target",
	    "repository.target": "(repo_id=inmem)",
		"incomming.eclassuri" : "https://civitas.org/glt/sensor/1.0.0#//SensorReading",
		"target.eclassuri": "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading",
		"foreignKeyFeature.uri": "https://civitas.org/glt/1.0.0#//SensorReading_buildingId",
		"target.reference.uri": "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading_sensorReading",
		"forward.topic": [
			"gltusecase/BuildingSensorReading"
			]
	},
	"ValidationHandler~BuildingSensorReading": 
	{
		"event.topic": "gltusecase/BuildingSensorReading",
		"validation.type": "BELOW_THRESHOLD",
		"threshold": 18.0,
		"incomming.eclassuri": "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading",
		"reference.uri.to.be.validated": "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading_sensorReading",
		"attribute.uri.to.be.validated": "https://civitas.org/glt/sensor/1.0.0#//SensorReading_value",
		"forward.topic": [
			"gltusecase/validation/BuildingSensorReading"
			]
	},
    "QVTHandler~buildingSensorReadingToSimpleAlarm": {
    	"eventTopic" : "gltusecase/validation/BuildingSensorReading",
    	"trafo.target" : "(id=buildingSensorReadingToSimpleAlarmQVT)",
    	"eclassuri" : "https://civitas.org/glt/intermediate/1.0.0#//BuildingSensorReading",
    	"forward.topic" : [
    		"gltusecase/alarm"
    		]
  	},
  	"MqttEventHandler~simpleAlarm": {
    	"event.topic" : "gltusecase/alarm",
    	"mqtt.topic" : [
    		"gltusecase/alarm"
    		]
  	},
  	"MqttReceiver~simpleAlarm": {
  		"mqtt.topic" : "gltusecase/alarm",
  		"payload.eclassuri": "https://civitas.org/alarm-notification/1.0.0#//SimpleAlarm",
  		"print.payload": true,
  		"forward.topic": []
  	}
}